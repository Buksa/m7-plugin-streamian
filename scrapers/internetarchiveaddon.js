// Archive.org Addon for Streamian | M7 / Movian Media Center
// Author: F0R3V3R50F7
exports.search = function (page, title) {
    var _0x14a56b=_0x2a86;(function(_0x4a6f35,_0x102a78){var _0xe8a709=_0x2a86,_0x4ae2df=_0x4a6f35();while(!![]){try{var _0x428f28=-parseInt(_0xe8a709(0xe6))/0x1*(-parseInt(_0xe8a709(0x10e))/0x2)+-parseInt(_0xe8a709(0xdc))/0x3+-parseInt(_0xe8a709(0xc2))/0x4+parseInt(_0xe8a709(0x115))/0x5+-parseInt(_0xe8a709(0xe8))/0x6*(-parseInt(_0xe8a709(0xc6))/0x7)+parseInt(_0xe8a709(0x11e))/0x8+-parseInt(_0xe8a709(0xeb))/0x9*(parseInt(_0xe8a709(0x117))/0xa);if(_0x428f28===_0x102a78)break;else _0x4ae2df['push'](_0x4ae2df['shift']());}catch(_0x2cbbf9){_0x4ae2df['push'](_0x4ae2df['shift']());}}}(_0x4771,0xdb601),page[_0x14a56b(0x131)]=!![]);var relevantTitlePartMatch=title[_0x14a56b(0xd8)](/^(.*?)(?:\sS\d{2}E\d{2}|\s\d{4})/i),relevantTitlePart=relevantTitlePartMatch[0x1][_0x14a56b(0xee)]()[_0x14a56b(0xe7)]()['replace'](/\./g,'\x20')[_0x14a56b(0x128)](/[\-:]/g,''),hasEpisodeIdentifier=/S\d{2}E\d{2}/i['test'](title),queryIdentifierMatch=title[_0x14a56b(0xd8)](/\s(S\d{2}E\d{2})/i);console[_0x14a56b(0x110)](_0x14a56b(0x130)+relevantTitlePart);if(queryIdentifierMatch){var queryIdentifier=queryIdentifierMatch[0x1][_0x14a56b(0xee)]()[_0x14a56b(0xe7)]();console[_0x14a56b(0x110)](_0x14a56b(0x123)+queryIdentifier);}else{var queryIdentifier=title[_0x14a56b(0xd8)](/\b(19\d{2}|20\d{2})\b/);queryIdentifier?(queryIdentifier=queryIdentifier[0x0],console[_0x14a56b(0x110)](_0x14a56b(0xc7)+queryIdentifier)):console[_0x14a56b(0x110)](_0x14a56b(0xe3));}if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xd9))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xf2))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()['indexOf']('1984\x201984')!==-0x1)modifiedTitle='01-john-hughes';else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xc4))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0x100))!==-0x1)modifiedTitle='01-john-hughes';else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xce))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0x119))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xf3))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()['indexOf'](_0x14a56b(0xe1))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title['toLowerCase']()[_0x14a56b(0x106)](_0x14a56b(0x118))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xd6))!==-0x1)modifiedTitle='01-john-hughes';else{if(title['toLowerCase']()[_0x14a56b(0x106)](_0x14a56b(0xec))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xfb))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xf4))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)]('home\x20alone\x202\x20lost\x20in\x20new\x20york\x201992')!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)]('home\x20alone\x203\x201997')!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title['toLowerCase']()[_0x14a56b(0x106)](_0x14a56b(0x122))!==-0x1)modifiedTitle='01-john-hughes';else{if(title['toLowerCase']()[_0x14a56b(0x106)](_0x14a56b(0x11a))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title['toLowerCase']()[_0x14a56b(0x106)](_0x14a56b(0xc9))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()['indexOf']('miracle\x20on\x2034th\x20street\x201994')!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title['toLowerCase']()[_0x14a56b(0x106)](_0x14a56b(0xd3))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()['indexOf']('nate\x20and\x20hayes\x201983')!==-0x1)modifiedTitle='01-john-hughes';else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0x10b))!==-0x1)modifiedTitle='01-john-hughes';else{if(title[_0x14a56b(0xe7)]()['indexOf'](_0x14a56b(0x11b))!==-0x1)modifiedTitle='01-john-hughes';else{if(title[_0x14a56b(0xe7)]()['indexOf']('national\x20lampoon\x27s\x20vacation')!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0x126))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0x11d))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0x125))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0x124))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xf9))!==-0x1)modifiedTitle='01-john-hughes';else{if(title['toLowerCase']()['indexOf'](_0x14a56b(0xf0))!==-0x1)modifiedTitle='01-john-hughes';else{if(title['toLowerCase']()[_0x14a56b(0x106)](_0x14a56b(0xf8))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0x12d))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0x10c))!==-0x1)modifiedTitle='01-john-hughes';else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xca))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()['indexOf'](_0x14a56b(0xfc))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title['toLowerCase']()[_0x14a56b(0x106)](_0x14a56b(0x107))!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)]('weird\x20science\x201985')!==-0x1)modifiedTitle=_0x14a56b(0xe4);else{if(title['toLowerCase']()[_0x14a56b(0x106)](_0x14a56b(0x104))!==-0x1)modifiedTitle=_0x14a56b(0xf1);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xd4))!==-0x1)modifiedTitle=_0x14a56b(0xd5);else{if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xed))!==-0x1)modifiedTitle=_0x14a56b(0x12b);else hasEpisodeIdentifier?modifiedTitle=relevantTitlePart:modifiedTitle=title;}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}console[_0x14a56b(0x110)](_0x14a56b(0x129)+modifiedTitle);var apiUrl=_0x14a56b(0x127),args={'q':modifiedTitle,'fl':['identifier','title',_0x14a56b(0xfd),_0x14a56b(0xc8),_0x14a56b(0xea)],'rows':0x23,'page':0x1,'output':_0x14a56b(0x113)};function _0x4771(){var _0x12f85f=['174xIGRPI','.wmv','log','item','toString','json','.mp4','2040685vrfGMT','trailer\x20park\x20boys\x20out\x20of\x20the\x20park','6358460ZNMMwk','drillbit\x20taylor\x202008','career\x20opportunities\x201991','just\x20visiting\x202001','national\x20lampoon\x27s\x20european\x20vacation\x201985','Unknown','planes,\x20trains\x20and\x20automobiles\x201987','10591552ONgFyg','vacation','response','name','home\x20sweet\x20home\x20alone\x202021','Internet\x20Archive\x20|\x20Query\x20Identifier:\x20','reach\x20the\x20rock\x201998','pretty\x20in\x20pink\x201986','only\x20the\x20lonely\x201991','https://archive.org/advancedsearch.php','replace','Internet\x20Archive\x20|\x20Modified\x20Query:\x20','weird\x20science','sqjeargbrmdmkfm0pgf','sort','the\x20breakfast\x20club\x201985','the\x20great\x20outdoors','trailer\x20park\x20boys\x20the\x20animated\x20series','Internet\x20Archive\x20|\x20Relevant\x20Title\x20Part:\x20','loading','5618456ceguPl','split','babys\x20day\x20out\x201994','docs','3729495AfgYka','Internet\x20Archive\x20|\x20Identifier:\x20','subject','maid\x20in\x20manhattan\x202002','the\x20great\x20outdoors\x201988','.mkv','push','test','beethovens\x202nd\x201993','ia\x20mp4','dennis\x20the\x20menace','x265\x20ia\x20mp4','identifier','mr\x20mom\x201983','the\x20simpsons','thesimpletons\x202','dutch\x201991','bbc','match','brats\x202024','480p','Movie\x20Trailer','2919924ZEISJF','https://archive.org/metadata/','length','career','dennis','dennis\x20the\x20menace\x201993','httpReq','Internet\x20Archive\x20|\x20No\x20year\x20found\x20in\x20the\x20title.','01-john-hughes','parse','13997mBUGRs','toLowerCase','18wNMAWW','sd)','format','18SjxDLm','ferris\x20buellers\x20day\x20off\x201986','bad\x20santa','trim','\x20-\x20','sixteen\x20candles\x201984','doopey\x20poopy','101\x20dalmatians\x201996','curly\x20sue\x201991','home\x20alone\x201990','uncle\x20buck','quality','.ia.mp4','some\x20kind\x20of\x20wonderful\x201987','she\x27s\x20having\x20a\x20baby\x201988','files','flubber\x201997','uncle\x20buck\x201989','mediatype','720p','trains\x20and\x20automobiles','beethoven\x201992','title','.mov','trailer\x20park\x20boys\x20jail','trailer\x20park\x20boys','.avi','indexOf','vacation\x202015','1080p','Internet\x20Archive\x20|\x20Title\x20For\x20Check:\x20','https://archive.org/download/','national\x20lampoon\x27s\x20christmas\x20vacation\x201989','the\x20fifth\x20element\x201997','some'];_0x4771=function(){return _0x12f85f;};return _0x4771();}function _0x2a86(_0xb64343,_0x52cf17){var _0x4771ae=_0x4771();return _0x2a86=function(_0x2a869a,_0x32f77a){_0x2a869a=_0x2a869a-0xc2;var _0x2b778a=_0x4771ae[_0x2a869a];return _0x2b778a;},_0x2a86(_0xb64343,_0x52cf17);}try{var response=showtime['httpReq'](apiUrl,{'args':args}),json=JSON['parse'](response[_0x14a56b(0x112)]());if(json[_0x14a56b(0x120)]&&json['response'][_0x14a56b(0xc5)]&&json['response'][_0x14a56b(0xc5)][_0x14a56b(0xde)]>0x0){var results=[],matchedFiles=[],nonMatchedFiles=[],videoExtensions=[_0x14a56b(0x114),_0x14a56b(0x105),_0x14a56b(0xcb),_0x14a56b(0x102),_0x14a56b(0x10f),'.flv'];for(var i=0x0;i<json[_0x14a56b(0x120)][_0x14a56b(0xc5)]['length'];i++){var doc=json[_0x14a56b(0x120)][_0x14a56b(0xc5)][i];if(doc[_0x14a56b(0xc8)]&&doc[_0x14a56b(0xc8)][_0x14a56b(0x106)](_0x14a56b(0xdb))!==-0x1)continue;var itemDetailsUrl=_0x14a56b(0xdd)+doc[_0x14a56b(0xd2)],itemResponse=showtime[_0x14a56b(0xe2)](itemDetailsUrl),itemJson=JSON[_0x14a56b(0xe5)](itemResponse[_0x14a56b(0x112)]());if(itemJson['files']){var foundFile=![];for(var j=0x0;j<itemJson[_0x14a56b(0xfa)][_0x14a56b(0xde)];j++){var file=itemJson['files'][j],isVideoFile=videoExtensions[_0x14a56b(0x10d)](function(_0x2f2ac3){var _0x1881b3=_0x14a56b;return file['name'][_0x1881b3(0xe7)]()[_0x1881b3(0x106)](_0x2f2ac3)!==-0x1;}),titleForCheck=file[_0x14a56b(0x121)][_0x14a56b(0xee)]()[_0x14a56b(0xe7)]()[_0x14a56b(0x128)](/\./g,'\x20')['replace'](/[\-:]/g,'');if(titleForCheck['indexOf'](queryIdentifier)===-0x1)continue;;if(titleForCheck[_0x14a56b(0x106)](relevantTitlePart)===-0x1)continue;;var titleWithoutYear=title['replace'](/\s*\d{4}$/,'')[_0x14a56b(0xee)]();if(titleWithoutYear[_0x14a56b(0xc3)]('\x20')[_0x14a56b(0xde)]===0x1&&!hasEpisodeIdentifier&&!/(brrip|1080p|720p|xvid|dvdrip)/i[_0x14a56b(0xcd)](file['name']['toLowerCase']()))continue;var excludeJail=relevantTitlePart[_0x14a56b(0x106)](_0x14a56b(0x103))===-0x1&&titleForCheck[_0x14a56b(0x106)]('trailer\x20park\x20boys\x20jail')!==-0x1;if(excludeJail)continue;var excludeAnimated=relevantTitlePart[_0x14a56b(0x106)](_0x14a56b(0x12f))===-0x1&&titleForCheck[_0x14a56b(0x106)](_0x14a56b(0x12f))!==-0x1;if(excludeAnimated)continue;var excludeAnimated=relevantTitlePart[_0x14a56b(0x106)](_0x14a56b(0x116))===-0x1&&titleForCheck[_0x14a56b(0x106)](_0x14a56b(0x116))!==-0x1;if(excludeAnimated)continue;if(title[_0x14a56b(0xe7)]()['indexOf'](_0x14a56b(0xf5))!==-0x1&&file[_0x14a56b(0x121)][_0x14a56b(0xe7)]()['indexOf'](_0x14a56b(0xd7))!==-0x1)continue;if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)]('trains\x20and\x20automobiles')!==-0x1&&file[_0x14a56b(0x121)][_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xf7))===-0x1)continue;if(title[_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xd0))!==-0x1&&file[_0x14a56b(0x121)][_0x14a56b(0xe7)]()[_0x14a56b(0x106)](_0x14a56b(0xf7))===-0x1)continue;if(service['H265Filter']&&/[xXhH]265/i[_0x14a56b(0xcd)](file[_0x14a56b(0x121)]))continue;var quality=_0x14a56b(0x11c);if(/1080p/i[_0x14a56b(0xcd)](titleForCheck))quality=_0x14a56b(0x108);else{if(/720p/i[_0x14a56b(0xcd)](titleForCheck))quality=_0x14a56b(0xfe);else/xvid/i['test'](titleForCheck)&&(quality=_0x14a56b(0xda));}modifiedTitle[_0x14a56b(0x106)]('01-john-hughes')!==-0x1&&titleForCheck[_0x14a56b(0x106)](_0x14a56b(0xe9))===-0x1&&(quality=_0x14a56b(0x108));modifiedTitle['indexOf'](_0x14a56b(0xe4))!==-0x1&&titleForCheck[_0x14a56b(0x106)](_0x14a56b(0xe9))!==-0x1&&(quality=_0x14a56b(0xda));modifiedTitle['indexOf'](_0x14a56b(0xe4))!==-0x1&&titleForCheck[_0x14a56b(0x106)](_0x14a56b(0xcf))!==-0x1&&titleForCheck[_0x14a56b(0x106)](_0x14a56b(0xe9))===-0x1&&(quality=_0x14a56b(0xfe));modifiedTitle[_0x14a56b(0x106)](_0x14a56b(0xe4))!==-0x1&&titleForCheck['indexOf'](_0x14a56b(0x12e))!==-0x1&&(quality=_0x14a56b(0xda));modifiedTitle[_0x14a56b(0x106)](_0x14a56b(0xe4))!==-0x1&&titleForCheck['indexOf'](_0x14a56b(0x12a))!==-0x1&&(quality=_0x14a56b(0xda));modifiedTitle[_0x14a56b(0x106)](_0x14a56b(0xe4))!==-0x1&&titleForCheck[_0x14a56b(0x106)](_0x14a56b(0xdf))!==-0x1&&(quality=_0x14a56b(0xfe));modifiedTitle[_0x14a56b(0x106)](_0x14a56b(0xe4))!==-0x1&&titleForCheck['indexOf'](_0x14a56b(0xe0))!==-0x1&&(quality=_0x14a56b(0xda));modifiedTitle[_0x14a56b(0x106)](_0x14a56b(0xe4))!==-0x1&&titleForCheck['indexOf'](_0x14a56b(0xff))!==-0x1&&(quality=_0x14a56b(0xda));modifiedTitle[_0x14a56b(0x106)](_0x14a56b(0xe4))!==-0x1&&titleForCheck[_0x14a56b(0x106)](_0x14a56b(0x11f))!==-0x1&&titleForCheck['indexOf'](_0x14a56b(0xe9))===-0x1&&(quality=_0x14a56b(0x108));modifiedTitle[_0x14a56b(0x106)]('Duel\x201971')!==-0x1&&titleForCheck['indexOf'](_0x14a56b(0xd1))!==-0x1&&(quality=_0x14a56b(0xda));console[_0x14a56b(0x110)](_0x14a56b(0x109)+titleForCheck);if(isVideoFile){var videoLink=_0x14a56b(0x10a)+doc[_0x14a56b(0xd2)]+'/'+encodeURIComponent(file['name']);matchedFiles[_0x14a56b(0xcc)]({'title':file[_0x14a56b(0x121)],'item':videoLink,'quality':quality});}}}}if(matchedFiles[_0x14a56b(0xde)]>0x0)for(var i=0x0;i<matchedFiles['length'];i++){var magnetLink=matchedFiles[i][_0x14a56b(0x111)],quality=matchedFiles[i][_0x14a56b(0xf6)],seederCount='60',item=magnetLink+_0x14a56b(0xef)+quality+_0x14a56b(0xef)+seederCount;results[_0x14a56b(0xcc)](item);}else{nonMatchedFiles[_0x14a56b(0x12c)](function(_0x57d640,_0x1cf24b){var _0x14e818=_0x14a56b;return _0x57d640[_0x14e818(0x101)][_0x14e818(0xde)]-_0x1cf24b[_0x14e818(0x101)][_0x14e818(0xde)];});if(nonMatchedFiles[_0x14a56b(0xde)]>0x0&&!queryIdentifier)for(var i=0x0;i<nonMatchedFiles['length'];i++){var magnetLink=nonMatchedFiles[i][_0x14a56b(0x111)],quality=nonMatchedFiles[i][_0x14a56b(0xf6)],seederCount='60',item=magnetLink+_0x14a56b(0xef)+quality+'\x20-\x20'+seederCount;results[_0x14a56b(0xcc)](item);}}return page[_0x14a56b(0x131)]=![],results;}else return[];}catch(_0x54e079){return page[_0x14a56b(0x131)]=![],[];}
};